<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Backup BarberBot</title>
</head>
<body>
  <h1>Backup BarberBot</h1>
  <hr>

<h2>ğŸ“Œ Estado Actual del Sistema</h2>
<ul>
  <li>El BarberBot se encuentra en fase de estabilizaciÃ³n avanzada del flujo.</li>
  <li>La lÃ³gica de reinicio por etiquetas es ahora el nÃºcleo del sistema.</li>
  <li>Make queda completamente desacoplado durante todo el flujo inicial.</li>
  <li>El sistema prioriza estabilidad, continuidad de UX y tolerancia al error humano.</li>
  <li>Este archivo <code>index.html</code> es la Ãºnica fuente oficial de verdad del sistema.</li>
</ul>

<hr>

<h2>ğŸ§  Arquitectura del BarberBot</h2>
<ul>
  <li>El sistema opera exclusivamente mediante:
    <ul>
      <li>Disparadores</li>
      <li>Etiquetas</li>
      <li>Plantillas</li>
    </ul>
  </li>
  <li>SellerChat no se utiliza para almacenar estado ni variables persistentes.</li>
  <li>No se confÃ­a en la persistencia de contexto entre mensajes.</li>
  <li>Todo el control de flujo depende Ãºnicamente de etiquetas.</li>
  <li>No existen validaciones cruzadas entre datos.</li>
  <li>Make solo se ejecuta despuÃ©s de la confirmaciÃ³n final.</li>
</ul>

<hr>

<h2>ğŸ” Reglas de Oro del Sistema</h2>
<ul>
  <li>El cliente no debe razonar, solo avanzar.</li>
  <li>Ante cualquier respuesta â€œNOâ€ se ejecuta RESET TOTAL.</li>
  <li>No existen correcciones parciales de datos.</li>
  <li>Solo existen dos resets oficiales:
    <ul>
      <li><code>resetDATE</code></li>
      <li><code>resetFINAL</code></li>
    </ul>
  </li>
  <li>Ambos resets colocan Ãºnicamente la etiqueta <code>INICIO</code>.</li>
  <li>La etiqueta <code>INICIO</code>:
    <ul>
      <li>Ignora cualquier flujo previo.</li>
      <li>No llama a Make.</li>
      <li>Ejecuta directamente <code>plantilla1_reservar</code>.</li>
    </ul>
  </li>
</ul>

<hr>

<h2>ğŸ” Flujo Oficial de Reservas</h2>
<ol>
  <li>El cliente inicia conversaciÃ³n.</li>
  <li>Se ejecuta <code>plantilla1_reservar</code>.</li>
  <li>El bot solicita dÃ­a y hora.</li>
  <li>Se presenta la primera confirmaciÃ³n.</li>
  <li>Si responde:
    <ul>
      <li><strong>NO</strong> â†’ <code>resetDATE</code> â†’ Regresa a <code>plantilla1_reservar</code>.</li>
      <li><strong>SÃ</strong> â†’ ContinÃºa el flujo.</li>
    </ul>
  </li>
  <li>El bot solicita nombre del cliente.</li>
  <li>El bot solicita servicio.</li>
  <li>Se presenta la confirmaciÃ³n final.</li>
  <li>Si responde:
    <ul>
      <li><strong>NO</strong> â†’ <code>resetFINAL</code> â†’ Regresa a <code>plantilla1_reservar</code>.</li>
      <li><strong>SÃ</strong> â†’ Se envÃ­an datos a Make y se agenda la cita.</li>
    </ul>
  </li>
</ol>

<hr>

<h2>âš™ï¸ Disparadores Activos</h2>
<ul>
  <li><code>INICIO</code> â€” Reinicio maestro absoluto.</li>
  <li><code>resetDATE</code> â€” Reinicio al negar fecha/hora.</li>
  <li><code>resetFINAL</code> â€” Reinicio al negar confirmaciÃ³n final.</li>
</ul>

<hr>

<h2>ğŸ“„ Plantillas Oficiales</h2>
<ul>
  <li><code>plantilla1_reservar</code> â€” Punto Ãºnico y obligatorio de entrada.</li>
</ul>

<hr>

<h2>ğŸš¨ PolÃ­tica de Errores</h2>
<ul>
  <li>No se permite recuperaciÃ³n parcial de errores.</li>
  <li>No se reutilizan datos si hubo una negativa.</li>
  <li>Todo error se resuelve con RESET TOTAL.</li>
  <li>No se permite continuar un flujo corrupto.</li>
</ul>

<hr>

<h2>ğŸ Problemas HistÃ³ricos Detectados</h2>
<ul>
  <li>El bot respondÃ­a incluso con Make apagado.</li>
  <li>El historial de SellerChat afectaba severamente el flujo.</li>
  <li>Los nombres se sobrescribÃ­an sin control.</li>
  <li>Los cambios de servicio no siempre se reflejaban correctamente.</li>
  <li>El borrado manual de historial alteraba el comportamiento.</li>
</ul>

<hr>

<h2>ğŸ§© Decisiones de DiseÃ±o</h2>
<ul>
  <li>Se eliminÃ³ la ediciÃ³n parcial de datos para evitar ambigÃ¼edad.</li>
  <li>Se priorizÃ³ UX sobre validaciones rÃ­gidas.</li>
  <li>Se estableciÃ³ un Ãºnico punto de entrada.</li>
  <li>Se descartÃ³ completamente el uso de variables persistentes.</li>
  <li>Se decidiÃ³ que cualquier â€œNOâ€ reinicia todo el sistema.</li>
</ul>

<hr>

<h2>ğŸ¯ FilosofÃ­a UX del BarberBot</h2>
<ul>
  <li>El cliente nunca debe quedar en un estado de incertidumbre.</li>
  <li>El bot siempre debe indicar claramente el siguiente paso.</li>
  <li>El cliente puede equivocarse sin romper el sistema.</li>
  <li>La prioridad absoluta es que el cliente termine agendando.</li>
  <li>El sistema debe guiar, no exigir razonamiento.</li>
</ul>

<hr>

<h2>ğŸ§ª Casos Reales Probados</h2>
<ul>
  <li>Cliente cambia nombre despuÃ©s de haberlo dado â†’ se respeta el Ãºltimo.</li>
  <li>Cliente niega la confirmaciÃ³n final â†’ reset total correcto.</li>
  <li>Cliente borra historial â†’ el flujo se recompone desde INICIO.</li>
  <li>Cliente cambia servicio antes de confirmar â†’ se toma el Ãºltimo.</li>
</ul>

<hr>

<h2>ğŸ›  Pendientes TÃ©cnicos</h2>
<ul>
  <li>Estabilizar completamente el reset automÃ¡tico por etiqueta.</li>
  <li>Aislar totalmente Make del flujo inicial.</li>
  <li>Documentar todos los disparadores existentes.</li>
  <li>Automatizar respaldos periÃ³dicos del index.</li>
</ul>

<hr>

<h2>ğŸ— Arquitectura por Capas</h2>
<ul>
  <li><strong>Capa UX:</strong> ConversaciÃ³n con el cliente.</li>
  <li><strong>Capa LÃ³gica:</strong> Disparadores, etiquetas y resets.</li>
  <li><strong>Capa de IntegraciÃ³n:</strong> Make y Google Calendar.</li>
  <li><strong>Capa de Respaldo:</strong> GitHub Pages.</li>
</ul>

<hr>

<h2>ğŸ—º Diagrama LÃ³gico del Sistema</h2>
<ul>
  <li>Cliente â†’ <code>plantilla1_reservar</code></li>
  <li>Solicitud dÃ­a/hora â†’ ConfirmaciÃ³n 1</li>
  <li>NO â†’ <code>resetDATE</code> â†’ <code>plantilla1_reservar</code></li>
  <li>SÃ â†’ Nombre â†’ Servicio â†’ ConfirmaciÃ³n Final</li>
  <li>NO â†’ <code>resetFINAL</code> â†’ <code>plantilla1_reservar</code></li>
  <li>SÃ â†’ Make â†’ Google Calendar â†’ Cita agendada</li>
</ul>

<hr>

<h2>ğŸŒ Enlace Maestro del Respaldo</h2>
<code>https://maxhdez300-cell.github.io/202512/</code>

</body>
</html>